<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Presence - Marble</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>
  <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script src="../../mathjaxconf.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Marble</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
            <li class="toctree-l1 ">
                <a class="" href="../..">Home</a>
                
            </li>
        

    
        
            <span>Reference</span>
            
                <li class="toctree-l2 current">
                    <a class="current" href="./">Presence</a>
                    
                        <ul>
                        
                            <li class="toctree-l3"><a href="#presence-in-areal-units">Presence in areal units</a></li>
                            
                                <li><a class="toctree-l4" href="#introduction">Introduction</a></li>
                            
                                <li><a class="toctree-l4" href="#measures">Measures</a></li>
                            
                                <li><a class="toctree-l4" href="#examples">Examples</a></li>
                            
                        
                        </ul>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../neighbourhoods/">Neighbourhoods</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../interaction/">Interactions</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../classes/">Social stratification</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../evenness/">(un)Evenness</a>
                    
                </li>
            
        

    
        
            <span>About</span>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../about/credits/">Credits</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../about/contribute/">Contribute</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../../about/license/">License</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Marble</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        <li>Reference &raquo;</li>
      
    
    <li>Presence</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/scities/marble" class="icon icon-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h1 id="presence-in-areal-units">Presence in areal units</h1>
<h2 id="introduction">Introduction</h2>
<p>Maybe the most fundamental quantity in all studies of segregation is how we
quantify the presence of a category in areal units. All other measures are then
based on the measure of presence. Several indicators exist, and one needs to be
aware of their meaning, their qualities and their shortcomings. Per se, if one's
goal is to identify areal units with high levels of segregation <em>everything
else being equal</em>, one should use the representation defined below. Other
measures can have their use, but are biaised and thus cannot be used for an
assessment of segregation.</p>
<h2 id="measures">Measures</h2>
<hr />
<h3 id="concentration-distribution-classesnone"><strong>concentration</strong> (distribution, classes=<em>None</em>)</h3>
<p>The concentration measures the proportion of individuals from category <mathjax>$\alpha$</mathjax>
in the areal unit <mathjax>$t$</mathjax>. </p>
<p><mathjax>$$\frac{n_\alpha(t)}{N_\alpha}$$</mathjax></p>
<p>The concentration has the nice property to be composition-invariant, that is it
does not depend on the relative proportion of category <mathjax>$\alpha$</mathjax> in the
geographical zone as a whole. </p>
<p>However, it strongly depends on the total population of the areal unit we are
studying: more population areal units will mechanically lead to higher values of
the concentration. Segregation measures based on the concentration (such as the
dissimilarity index) will thefore be dominated by the values in highly
population areal units.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>distribution</code>  dictionary<blockquote>
<p>Takes a dictionary of dictionaries with distribution[areal_unit][category] =
number </p>
</blockquote>
</li>
<li><code>classes</code> dictionary, optional<blockquote>
<p>Takes a dictionary of lists with classes[class] = [cat1, cat2, ...]<br />
If not specified, the algorithm will use the categories found in
<code>distribution</code></p>
</blockquote>
</li>
</ul>
<p><strong>Output</strong></p>
<ul>
<li><code>concentration</code> dictionary<blockquote>
<p>Returns a dictionary of dictionaries with<br />
concentration[areal_unit][category] = value</p>
</blockquote>
</li>
</ul>
<hr />
<h3 id="proportion-distribution-classesnone"><strong>proportion</strong> (distribution, classes=<em>None</em>)</h3>
<p>Sometimes, however, we prefer to know the proportion of people of a given
category in an unit. In our notations, it is defined as </p>
<p><mathjax>$$\frac{n_\alpha(t)}{n(t)}$$</mathjax></p>
<p>Although the values of the proportion are easier to interpret (`x% of the
individuals living in this areal units live in this neighbourhood'), they are
not a good indicator of segregation. They strongly depend on the relative
proportion of individuals of the category in the geographical area being
studied. </p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>distribution</code>  dictionary<blockquote>
<p>Takes a dictionary of dictionaries with distribution[areal_unit][category] =
number </p>
</blockquote>
</li>
<li><code>classes</code> dictionary, optional<blockquote>
<p>Takes a dictionary of lists with classes[class] = [cat1, cat2, ...]<br />
If not specified, the algorithm will use the categories found in
<code>distribution</code></p>
</blockquote>
</li>
</ul>
<p><strong>Output</strong></p>
<ul>
<li><code>proportion</code> dictionary<blockquote>
<p>Returns a dictionary of dictionaries with<br />
proportion[areal_unit][category] = value</p>
</blockquote>
</li>
</ul>
<hr />
<h3 id="representation-distribution-classesnone"><strong>representation</strong> (distribution, classes=<em>None</em>)</h3>
<p>The representation solves the problems linked to both measures of concentration
and of representation. The idea behind the measure of representation is that
segregation is a departure from the situation where all categories would be
spatially distributed at random. The properties of such a `random', unsegregated
city are however well known, and the distribution of categories in each areal
unit is given by a binomial distribution. The representation is thus defined as
the number <mathjax>$n_\alpha(t)$</mathjax> divided by its expected value in an unsegregated city</p>
<p><mathjax>$$r_\alpha(t) = \frac{n_\alpha(t) / n(t)}{N_\alpha / N} $$</mathjax></p>
<p>In the perfectly unsegregated city (number of individuals equal to the mean of
the binomial distribution), <mathjax>$r_\alpha = 1$</mathjax>. Of course, there always is a
possibility for any situation that it has been obtained by chance. Given the
binomial distribution, however, we can compute how likely it is that the
representation <mathjax>$r_\alpha(t)$</mathjax> we measure has been obtained by chance. To do that,
we first compute the variance:</p>
<p><mathjax>$$\mathrm{Var}\left[r_\alpha(t)\right] = \sigma_\alpha(t)^2 = \frac{1}{N_\alpha} \left[\frac{N}{n(t)} - 1\right]$$</mathjax></p>
<p>we would like to know the areal units that depart from the random situation with
99% confidence. Therefore, we will say that  </p>
<ul>
<li><mathjax>$\alpha$</mathjax> is overrepresented in <mathjax>$t$</mathjax> iff <mathjax>$r_\alpha(t) &gt; 1 +
  2.57\,*\sigma_\alpha(t)$</mathjax></li>
<li><mathjax>$\alpha$</mathjax> is underrepresented in <mathjax>$t$</mathjax> iff <mathjax>$r_\alpha(t) &lt; 1 +
  2.57\,\sigma_\alpha(t)$</mathjax></li>
</ul>
<div class="admonition beware">
<p class="admonition-title">Beware</p>
<p>The knowledge of both <mathjax>$r_\alpha(t)$</mathjax> and
<mathjax>$\mathrm{Var}\left[r_\alpha(t)\right]$</mathjax> is necessary to speak of
<em>underrepresentation</em> or <em>overrepresentation</em>.</p>
</div>
<p><strong>Parameters</strong></p>
<ul>
<li><code>distribution</code>  dictionary<blockquote>
<p>Takes a dictionary of dictionaries with<br />
distribution[areal_unit][category] = number </p>
</blockquote>
</li>
<li><code>classes</code> dictionary, optional<blockquote>
<p>Takes a dictionary of lists with classes[class] = [cat1, cat2, ...]<br />
If not specified, the algorithm will use the categories found in
<code>distribution</code></p>
</blockquote>
</li>
</ul>
<p><strong>Output</strong></p>
<ul>
<li><code>representation</code> dictionary<blockquote>
<p>Returns a dictionary of dictionaries with
representation[areal_unit][category] = (<mathjax>$r_\alpha(t)$</mathjax>,
<mathjax>$\mathrm{Var}\left[r_\alpha(t)\right]$</mathjax>)</p>
</blockquote>
</li>
</ul>
<h2 id="examples">Examples</h2>
<p>Let us look at how to compute the concentration, proportion and representation for the categories 0, 1 and 2 in a
fictional region with two areal units A and B.</p>
<pre><code class="python">&gt;&gt;&gt; import marble as mb
&gt;&gt;&gt; city = {&quot;A&quot;:{0: 10, 1:0, 2:23},
          &quot;B&quot;:{0: 0, 1:10, 2:8}}
&gt;&gt;&gt; co = mb.concentration(city)
&gt;&gt;&gt; print co['A'][0]
1.0

&gt;&gt;&gt; pr = mb.proportion(city)
&gt;&gt;&gt; print pr['A'][0]
0.303

&gt;&gt;&gt; rep = mb.representation(city)
&gt;&gt;&gt; print rep['A'][0]
(1.55, 0.054)
</code></pre>
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../neighbourhoods/" class="btn btn-neutral float-right" title="Neighbourhoods"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../.." class="btn btn-neutral" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
            <a href="https://github.com/scities/marble" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
        
      <span><a href="../.." style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../neighbourhoods/" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>

<!--
MkDocs version  : 0.12.2
Docs Build Date : 2015-08-11 23:29:14.538957
-->
</body>
</html>